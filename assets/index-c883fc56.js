var z=Object.defineProperty;var W=(e,t,s)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var g=(e,t,s)=>(W(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function S(e){if(console.log(e.type,e.charCode,e.keyCode),e.type==="click")return!0;if(e.type==="keyup"){const t=e.charCode||e.keyCode;if(t===32||t===13)return!0}else return!1}const N=function(e){let t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),s=t[0],n=t[t.length-1],a=9;e.addEventListener("keydown",function(o){(o.key==="Tab"||o.keyCode===a)&&(o.shiftKey?document.activeElement===s&&(n.focus(),o.preventDefault()):document.activeElement===n&&(s.focus(),o.preventDefault()))})},I=(e,t,s)=>{s.forEach(n=>{n.classList.remove("u-selected")}),t.classList.add("u-selected"),document.querySelectorAll(".js-card-box").forEach(n=>{n.firstElementChild.dataset.tags.split(",").includes(t.dataset.tag)||t.dataset.tag==="All"?n.classList.remove("u-hidden-3"):n.classList.add("u-hidden-3")})};function Y(){const e=document.querySelectorAll(".js-filter-item");e.forEach(t=>{t.addEventListener("click",s=>{I(s,t,e)}),t.addEventListener("keyup",s=>{S(s)&&I(s,t,e)})})}const P=()=>{document.querySelector(".c-filter__classes").classList.remove("u-hidden"),document.querySelector(".js-search-close").classList.add("u-hidden"),document.querySelector("#search-champion").classList.remove("active"),document.querySelector(".c-search-champions").classList.remove("active"),document.querySelector(".c-filter-by-class").classList.remove("active")},J=()=>{const e=document.querySelector(".js-search-champion");e.value!==null&&b(e.value),e.addEventListener("input",()=>{const t=e.value.toLowerCase();b(t)}),document.querySelector(".js-search-icon").addEventListener("click",Q),window.onresize=()=>{window.innerWidth>576&&P()},document.querySelector(".js-search-close").onclick=function(){P(),document.querySelector(".js-search-champion").value="",b("")}},Q=()=>{window.innerWidth<576&&(document.querySelector(".c-filter__classes").classList.add("u-hidden"),document.querySelector("#search-champion").classList.add("active"),document.querySelector(".c-search-champions").classList.add("active"),document.querySelector(".js-search-close").classList.remove("u-hidden"),document.querySelector(".c-filter-by-class").classList.add("active"))},b=e=>{e=e.trim().toLowerCase();const t=document.querySelectorAll(".js-card-box");let s=0;t.forEach(n=>{n.querySelector(".c-card__title").innerText.toLowerCase().includes(e)?(n.classList.remove("u-hidden-2"),s+=1):n.classList.add("u-hidden-2")}),s===0?document.querySelector(".js-no-results").classList.remove("u-hidden"):document.querySelector(".js-no-results").classList.add("u-hidden")};function X(){document.querySelectorAll(".js-dynamic-form").forEach(e=>{const t=e.querySelector("input");console.log(t.value),t.value.length>0&&t.classList.add("c-form__input--filled"),t.addEventListener("input",()=>{t.value.length>0?t.classList.add("c-form__input--filled"):t.classList.remove("c-form__input--filled")})})}const w=class{};let c=w;g(c,"mousePos",{x:0,y:0}),g(c,"apiVersion","12.19.1"),g(c,"userIsLoaded",!1),g(c,"loadedChampion"),g(c,"user"),g(c,"backend"),g(c,"ddragon",`https://ddragon.leagueoflegends.com/cdn/${w.apiVersion}`),g(c,"ddragonImg","https://ddragon.leagueoflegends.com/cdn/img/"),g(c,"summonerSpells",{}),g(c,"runes",{}),g(c,"lastInputUsername","");const L=async function(e){return await fetch(e).then(t=>t.json()).catch(t=>console.warn(t))},Z=async function(e,t){return await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(s=>s.json()).catch(s=>console.warn(s))};function G(e){e.querySelector(".js-no-user").classList.remove("u-hidden"),e.querySelector(".js-no-user-img").classList.remove("u-hidden")}function ee(e){e.querySelector(".js-no-user").classList.add("u-hidden"),e.querySelector(".js-no-user-img").classList.add("u-hidden")}const D=()=>{const e=document.querySelector(".js-search-container");e.classList.add("is-invalid"),e.addEventListener("animationend",()=>{e.classList.remove("is-invalid")})},te=async e=>{const t=document.querySelector(".js-champ-card-container");t.classList.add("u-is-loading");let s=c.backend+"/api/cacheMatches/";const n=await Z(s,e);console.info(s,n),c.user=e,s=c.backend+"/api/v2/matches/"+e.puuid;const a=await L(s);console.info(s,a),c.userIsLoaded=!0,console.info("About to add the values to the cards");const o=document.querySelectorAll(".js-card-box");o.forEach(m=>{let l=!1;const p=m.firstElementChild;for(const[r,u]of a.entries())if(parseInt(p.dataset.championId)===u.championId){l=!0,m.dataset.order=a.length-r;const h=p.querySelector(".c-card__body");h.classList.remove("u-hidden"),h.querySelector(".c-card__played").innerText=`${u.matches}${u.matches>1?" games":" game"}`;const y=h.querySelector(".c-card__winrate");y.innerText=Math.round(u.winrate*100)+"%",u.winrate>.5?y.classList.add("u-positive-color"):y.classList.add("u-negative-color"),h.querySelector(".c-card__kda").innerText=u.kda}l||(m.dataset.order="0")});const d=Array.prototype.slice.call(o);d.sort((m,l)=>parseInt(l.dataset.order)-parseInt(m.dataset.order));let i=document.createDocumentFragment();d.forEach(m=>{i.appendChild(m)}),t.innerHTML="",t.appendChild(i),t.classList.remove("u-is-loading")};function se(){const e=document.querySelector(".js-search-username");e.addEventListener("focus",()=>{document.querySelector(".c-searchBar").style.setProperty("--notched-border-color","#00B7FF")}),e.addEventListener("blur",()=>{document.querySelector(".c-searchBar").style.removeProperty("--notched-border-color")}),document.querySelector(".userForm").addEventListener("submit",async t=>{t.preventDefault();let s=document.querySelector(".js-search-username").value.trim(),n=document.querySelector(".js-search-region").value;if(c.lastInputUsername===s){D();return}const a=await L(`${c.backend}/api/user/${s}/${n}`);if(!a)D();else{c.userIsLoaded=!1,document.querySelector(".c-searchBar").classList.add("c-form-valid");const o=document.querySelector(".c-searchBar");o.style.setProperty("--notched-border-color","green"),o.style.setProperty("--notched-border-width",".15em"),document.querySelector(".js-search-username").textContent=`${a.username} found!`,await te(a)}c.lastInputUsername=s}),document.querySelector(".js-search-username").addEventListener("keyup",()=>{document.querySelector(".c-searchBar").classList.remove("c-form-valid")})}function ne(){document.querySelector(".js-popup-animate").classList.contains("running")||(document.documentElement.style.setProperty("--mouse-pos-x",`${c.mousePos.x}%`),document.documentElement.style.setProperty("--mouse-pos-y",`${c.mousePos.y}%`))}function ae(e,t){c.mousePos.x=(e/window.innerWidth).toFixed(2)*100,c.mousePos.y=(t/window.innerHeight).toFixed(2)*100}function oe(e){e.querySelector(".c-loader").classList.remove("u-hidden")}function ce(e){e.querySelector(".c-loader").classList.add("u-hidden")}function de(e,t){const i=e-t;return i<6e4?Math.round(i/1e3)+" seconds ago":i<36e5?Math.round(i/6e4)+" minutes ago":i<864e5?Math.round(i/36e5)+" hours ago":i<2592e6?Math.round(i/864e5)+" days ago":i<31536e6?Math.round(i/2592e6)+" months ago":Math.round(i/31536e6)+" years ago"}function re(e){const t=Math.floor(e/60),s=e%60;return`${t}m ${s}s`}function K(e,t,s){if(c.runes==null)throw new Error("Runes not loaded");let n={firstTree:{},secondTree:{}};return c.runes.forEach(a=>{a.id===e&&a.slots[0].runes.forEach(o=>{o.id===t&&(n.firstTree.icon=o.icon,n.firstTree.name=o.name,n.firstTree.key=o.key)}),a.id===s&&(n.secondTree.name=a.name,n.secondTree.icon=a.icon,n.secondTree.key=a.key)}),n}function v(e){return e?`<img src="${c.ddragon}/img/item/${e}.png" alt="item">`:'<div class="no-item"></div> '}const T=(e,t,s=[])=>{let n=document.createElement("img");n.src=e,n.alt=t;for(const a of s)n.classList.add(a);return n};function ie(e){let t=document.createElement("h2");return t.classList.add("c-card__title"),t.classList.add("u-italic"),t.classList.add("u-uppercase"),t.classList.add("u-serif"),t.textContent=e,t}function le(){const e=document.createElement("div");e.classList.add("c-card__body"),e.classList.add("u-hidden");let t=document.createElement("p");t.classList.add("c-card__text"),t.classList.add("c-card__kda");let s=document.createElement("p");s.classList.add("c-card__text"),s.classList.add("c-card__winrate");let n=document.createElement("p");return n.classList.add("c-card__text"),n.classList.add("c-card__played"),e.appendChild(t),e.appendChild(s),e.appendChild(n),e}function ue(e,t,s){let n=document.createElement("div"),a=document.createElement("a");return n.classList.add("u-notched-content"),n.classList.add("c-card"),n.appendChild(e),n.appendChild(t),n.appendChild(s),a.classList.add("c-card__container"),a.classList.add("js-card-box"),a.appendChild(n),a}const M=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M 0 0 53 0 74 22 75 75 0 75 0 0z");const s=document.createElementNS("http://www.w3.org/2000/svg","animate");s.setAttribute("from","1000"),s.setAttribute("to","0"),s.setAttribute("dur","3s"),s.setAttribute("fill","freeze"),s.setAttribute("begin","indefinite"),s.classList.add("js-svg-animate"),t.appendChild(s);const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 75 75"),n.appendChild(t),n.classList.add("c-abilities__icon__border"),n.dataset.name=e,n};function A(e,t){const s=document.createElement("div");s.classList.add("c-team__header","c-team__grid");const o=[`${t?"Victory":"Defeat"} <span class="team">(${e==="Red"?"Blue Team":"Red Team"})<span></span>`,"KDA","Damage","Vision","Gold","CS","Items"];for(const d of o){const i=document.createElement("div");i.classList.add("c-team__header-item"),i.innerHTML=d,s.appendChild(i)}return s}function B(e){const t=document.createElement("div"),s=Math.max(...e.map(n=>n.totalDamageDealtToChampions));for(const n of e){const a=document.createElement("div");a.classList.add("c-team__grid"),a.appendChild(pe(n)),a.appendChild(he(n)),a.appendChild(fe(n,s)),a.appendChild(ye(n)),a.appendChild(ge(n)),a.appendChild(ve(n)),a.appendChild(Le(n)),t.appendChild(a)}return t}function me(e,t,s){const n=e.reduce((r,u)=>r+u.totalDamageDealtToChampions,0),a=t.reduce((r,u)=>r+u.totalDamageDealtToChampions,0),o=e.reduce((r,u)=>r+u.goldEarned,0),d=t.reduce((r,u)=>r+u.goldEarned,0),i=n/(n+a)*100,m=o/(o+d)*100;console.info(n,a);const l=document.createElement("div");l.classList.add("c-team-diff");const p=s==="Blue"?"blueTeam":"redTeam";return l.appendChild(F(n,a,i,"Total Damage",p)),l.appendChild(F(o,d,m,"Total Gold",p)),l}function F(e,t,s,n,a){const o=document.createElement("div");o.classList.add("c-progress-bar"),o.classList.add(a);const d=document.createElement("div");d.classList.add("c-progress-bar--progress"),d.classList.add(a),d.style.width=`${s}%`;const i=document.createElement("div");i.classList.add("c-progress-bar--text");const m=document.createElement("span");m.textContent=e;const l=document.createElement("span");l.textContent=n;const p=document.createElement("span");return p.textContent=t,i.appendChild(m),i.appendChild(l),i.appendChild(p),o.appendChild(d),o.appendChild(i),o}function pe(e){let t=e.championName;t==="FiddleSticks"&&(t="Fiddlesticks");const s=e.perks.styles[0].style,n=e.perks.styles[0].selections[0].perk,a=e.perks.styles[1].style,o=K(s,n,a),d=document.createElement("div");return d.innerHTML=`
            <div class="c-match-card__header--champ js-champion-played">
            <img src="${c.ddragon}/img/champion/${t}.png"
                 alt="${t}"/>
            <span class="js-level">${e.champLevel}</span>
            </div>
            <div class="c-match-card__header--summoners-runes-container">
                <img src="${c.ddragon}/img/spell/${c.summonerSpells[e.summoner1Id]}.png"
                     alt="${e.summoner1Id}"/>
                <img src="${c.ddragon}/img/spell/${c.summonerSpells[e.summoner2Id]}.png"
                     alt="${e.summoner2Id}"/>
                <img src="${c.ddragonImg+o.firstTree.icon}"
                     alt="${o.firstTree.name}"/>
                <img src="${c.ddragonImg+o.secondTree.icon}"
                     alt="${o.secondTree.name}"/>
            </div>
            <div class="c-match-card__header--summoner">
                <div class="js-summoner-name">${e.summonerName}</div>
                <div class="js-summoner-level">Level ${e.summonerLevel}</div>
            </div>
            
        `,d.classList.add("c-participant__general"),d}function he(e){const t=document.createElement("div");t.classList.add("c-participant__kda");let s;return e.deaths!==0?s=((e.kills+e.assists)/e.deaths).toFixed(2)+":1":s='<span class="perfect">Perfect</span>',t.innerHTML=`
        <span class="c-participant__kda-value"><span>${e.kills}</span>/<span class="u-negative-color">${e.deaths}</span>/<span>${e.assists}</span> </span>
        <span class="c-participant__kda-ratio">${s}</span>
    `,t}function fe(e,t){const s=document.createElement("div");s.classList.add("c-participant__damage");const n=document.createElement("div");n.classList.add("c-participant__damage-value"),n.textContent=e.totalDamageDealtToChampions;const a=document.createElement("div");a.classList.add("c-participant__damage-ratio");const o=document.createElement("div");return o.style.width=`${e.totalDamageDealtToChampions/t*100}%`,o.classList.add("c-participant__damage-progress-bar"),a.appendChild(o),s.appendChild(n),s.appendChild(a),s}function ye(e){const t=document.createElement("div");return t.classList.add("c-participant__vision"),t.textContent=e.visionScore,t}function ge(e){const t=document.createElement("div");return t.classList.add("c-participant__gold"),t.textContent=e.goldEarned,t}function ve(e){const t=document.createElement("div");return t.classList.add("c-participant__cs"),t.textContent=e.totalMinionsKilled+e.neutralMinionsKilled,t}function Le(e){const t=document.createElement("div"),s=[e.item0,e.item1,e.item2,e.item3,e.item4,e.item5,e.item6];t.classList.add("c-participant__items");for(const n of s){const a=document.createElement("div");a.classList.add("c-participant__item"),a.innerHTML=v(n),t.appendChild(a)}return t}const _e=async e=>{console.debug(e),Ce();const t=document.querySelector(".js-match-history");oe(t),ee(t);const s=c.backend+`/api/v2/matches/${c.user.puuid}/${e.id}`,n=await L(s);n.length===0&&Se(e.name),c.loadedChampion=e.id;const a=t.querySelector(".js-card-container");a.innerHTML="",n.forEach(o=>{const d=o.matchid,i=o.userIndex,m=de(new Date,new Date(o.info.gameEndTimestamp)),l=document.createElement("div"),p=re(o.info.gameDuration),r=o.info.participants[i],u=r.win?"WIN":"LOSS",h=r.win?"u-positive-color":"u-negative-color";let y=r.championName;y==="FiddleSticks"&&(y="Fiddlesticks");const f=r.perks.styles[0].style,j=r.perks.styles[0].selections[0].perk,R=r.perks.styles[1].style,C=K(f,j,R),k=r.totalMinionsKilled+r.neutralMinionsKilled,U=(k/o.info.gameDuration*60).toFixed(2),q=c.ddragon,x=c.ddragonImg;l.classList.add("c-match-card"),l.classList.add("js-match-card"),l.classList.add("u-notched-border"),l.innerHTML=`
                <div class="c-match-card__header">
                    <div class="c-match-card__header--metadata">
                        <h3 class="js-game-type">${o.info.gameMode}</h3>
                        <p class="js-game-date">${m}</p>
                        <p>
                            <span class="js-outcome ${h}">${u}</span>
                            <span class="c-match-card__header--metadata--game-duration">${p}</span>
                        </p>
                    </div>

                    <div class="c-match-card__header--champ js-champion-played">
                        <img src="${q}/img/champion/${y}.png"
                             alt="${y}"/>
                        <span class="js-level">${r.champLevel}</span>
                    </div>
                    <div class="c-match-card__header--summoners-runes-container">
                        <img src="${q}/img/spell/${c.summonerSpells[r.summoner1Id]}.png"
                             alt="${r.summoner1Id}"/>
                        <img src="${q}/img/spell/${c.summonerSpells[r.summoner2Id]}.png"
                             alt="${r.summoner2Id}"/>
                        <img src="${x+C.firstTree.icon}"
                             alt="${C.firstTree.name}"/>
                        <img src="${x+C.secondTree.icon}"
                             alt="${C.secondTree.name}"/>
                    </div>
                    <div class="c-match-card__header--result">
                        <p class="c-match-card__header--result--kda">
                            <span class="js-kills">${r.kills}</span> /
                            <span class="js-deaths u-negative-color">${r.deaths}</span> /
                            <span class="js-assists">${r.assists}</span>
                        </p>
                        <p class="c-match-card__header--result--kda-number"><span class="js-kda">
                            ${((r.kills+r.assists)/r.deaths).toFixed(2)}</span>
                            KDA</p>
                        <p class="c-match-card__header--result--cs">
                            <span class="js-minions-killed">${k}</span> CS
                            (<span class="js-minions-killed-per-minute">${U}</span>)
                        </p>
                        <p class="c-match-card__header--result--vision"><span class="js-vision">${r.visionScore}</span>
                            vision</p>
                    </div>
                    <div class="c-match-card__header--items">
                        ${v(r.item0)}
                        ${v(r.item1)}
                        ${v(r.item2)}
                        ${v(r.item3)}
                        ${v(r.item4)}
                        ${v(r.item5)}
                        ${v(r.item6)}
                    </div>
                    <div class="c-expand-container">
                        <button class="js-expand">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000">
                            <path d="M24 24H0V0h24v24z" fill="none" opacity=".87"/>
                            <path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"/>
                          </svg>
                        </button>
                    </div>
                </div>`,l.querySelector(".js-expand").addEventListener("click",()=>{l.classList.toggle("js-card-expanded"),l.querySelector(".js-expand").querySelector("svg").classList.toggle("u-rotate-180"),l.classList.contains("js-card-expanded")?Ee(d,o,l):(console.log("remove"),l.querySelector(".js-match-body").classList.add("u-hidden"))}),a.appendChild(l)}),ce(t),N(document.querySelector(".js-popup-container"))},Se=function(e){let t=document.querySelector(".js-no-matches");console.info("no matches for"+e),t.classList.remove("u-hidden"),t.querySelector("span").textContent=e};function Ce(){document.querySelector(".js-no-matches").classList.add("u-hidden")}const Ee=async(e,t,s)=>{if(s.classList.contains("loaded")){s.querySelector(".js-match-body").classList.remove("u-hidden");return}const n=document.createElement("div");n.classList.add("c-match__body"),n.classList.add("js-match-body");const a=document.createElement("div");a.classList.add("u-overflow-hidden"),a.appendChild(n),s.appendChild(a);const o=document.createElement("h3");o.classList.add("c-match__title"),o.innerText="Match performance",n.appendChild(o);const d=document.createElement("div");d.classList.add("c-match__performance-grid");let i=t.info.participants[t.userIndex].win,m,l,p,r;t.userIndex<=4?(m=t.info.participants.slice(0,5),l=t.info.participants.slice(5,10),p="Blue",r="Red"):(m=t.info.participants.slice(5,10),l=t.info.participants.slice(0,5),p="Red",r="Blue");const u=document.createElement("div");u.classList.add("c-match__team"),u.classList.add("c-match__team--your"),u.appendChild(A(p,i)),u.appendChild(B(m));const h=document.createElement("div");h.classList.add("c-match__team"),h.classList.add("c-match__team--enemy"),h.appendChild(A(r,!i)),h.appendChild(B(l)),n.appendChild(u),n.appendChild(me(m,l,p)),n.appendChild(h),n.appendChild(d),s.classList.add("loaded")};function je(e){const t=document.querySelectorAll(".js-ability-video");for(const s of t){s.dataset.video_error=!1,document.querySelector(".js-video-error").classList.add("u-hidden"),document.querySelector(".js-video-error-text").classList.add("u-hidden"),s.pause(),s.dataset.name==="P"?s.classList.remove("u-hidden"):s.classList.add("u-hidden");let n=e.key;const a=n.toString().length;for(let i=0;i<4-a;i++)n="0"+n;s.children[0].onerror=function(){console.log("error")},s.children[1].onerror=function(){console.log("error"),document.querySelector(".js-video-error").classList.remove("u-hidden"),document.querySelector(".js-video-error-text").classList.remove("u-hidden"),s.dataset.video_error=!0,s.classList.add("u-hidden")};const o=`https://d28xe8vt774jo5.cloudfront.net/champion-abilities/${n}/ability_${n}_${s.dataset.name}1.webm`,d=`https://d28xe8vt774jo5.cloudfront.net/champion-abilities/${n}/ability_${n}_${s.dataset.name}1.mp4`;s.children[0].src=o,s.children[1].src=d,s.load(),s.dataset.name==="P"&&s.play()}}function qe(){document.querySelector(".js-video-error-text").classList.add("u-hidden"),document.querySelector(".js-video-error").classList.add("u-hidden")}function V(e){for(let t of document.querySelectorAll(".js-ability-video"))if(e===t.dataset.name){if(t.dataset.video_error==="true"){console.log("video error"),document.querySelector(".js-video-error").classList.remove("u-hidden"),document.querySelector(".js-video-error-text").classList.remove("u-hidden");continue}else document.querySelector(".js-video-error").classList.add("u-hidden"),document.querySelector(".js-video-error-text").classList.add("u-hidden");t.classList.remove("u-hidden"),t.currentTime=0,t.play()}else t.classList.add("u-hidden"),t.pause(),t.currentTime=0}function be(e){const s=document.querySelector(".js-abilities-container").querySelector(".js-ability-img-container");s.innerHTML="",$(e.passive.name,e.passive.description,"PASSIVE"),je(e);let n=e.passive.image.full,a=e.passive.name;const o=T(`https://ddragon.leagueoflegends.com/cdn/${c.apiVersion}/img/passive/${n}`,a,["c-abilities__icon"]),d=document.createElement("a"),i=M("passive");d.dataset.type="passive",d.classList.add("c-abilities__img-container"),d.classList.add("u-selected-icon"),d.tabIndex=0,d.addEventListener("click",()=>{E("passive","passive",d.dataset.id,e)}),d.addEventListener("keyup",p=>{S(p)&&E("passive","passive",d.dataset.id,e)}),d.appendChild(o),d.appendChild(i),s.appendChild(d);const m=["Q","W","E","R"];let l=0;for(const p of e.spells){let r=p.image.full,u=p.name;const h=T(`https://ddragon.leagueoflegends.com/cdn/${c.apiVersion}/img/spell/${r}`,u,["c-abilities__icon"]),y=M(m[l]);y.classList.add("u-hidden");const f=document.createElement("a");f.classList.add("c-abilities__img-container"),f.appendChild(h),f.appendChild(y),f.dataset.type="spell",f.dataset.id=p.id,f.dataset.spellButton=m[l],f.addEventListener("click",()=>{E(f.dataset.spellButton,"spell",f.dataset.id,e)}),f.tabIndex=0,s.appendChild(f),f.addEventListener("keyup",j=>{S(j)&&E(f.dataset.spellButton,"spell",f.dataset.id,e)}),l+=1}}function E(e,t,s,n){qe(),document.querySelector(".js-abilities-container").querySelectorAll(".c-abilities__icon__border").forEach(o=>{o.classList.add("u-hidden"),console.info(o.dataset.name,e,t),o.dataset.name===e&&(console.info("border found"),o.classList.remove("u-hidden"),o.querySelector(".js-svg-animate").beginElement())});try{document.querySelector(".u-selected-icon").classList.remove("u-selected-icon")}catch{console.warn("No icon selected")}if(document.querySelectorAll(".c-abilities__img-container").forEach(o=>{o.dataset.id===String(s)&&o.classList.add("u-selected-icon")}),t==="passive"){const o=n.passive;$(o.name,o.description,"PASSIVE"),V("P")}else for(const o of n.spells)o.id===s&&($(o.name,o.description,e),V(e))}function $(e,t,s){let n=document.querySelector(".js-abilities-container");n.querySelector(".js-ability-name").textContent=e,n.querySelector(".js-ability-description").innerHTML=t,n.querySelector(".js-ability-type").textContent=s}const H=e=>{ne();const t=document.querySelector(".js-popup-container");t.querySelector(".js-popup-animate").classList.add("running"),t.classList.remove("u-hidden"),document.documentElement.style.overflow="hidden";const s=t.querySelector(".js-popup-header"),n=t.querySelector(".js-popup-body");s.querySelector(".js-popup-img").src=`https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${e.id}_0.jpg`,s.querySelector(".js-champ-name").textContent=e.name,s.querySelector(".js-champ-title").textContent=e.title,n.querySelector(".js-champ-lore").textContent=e.lore;for(const a of n.querySelectorAll(".js-role-icon")){const o=a.dataset.name;e.tags.includes(o)&&a.classList.remove("u-hidden")}be(e),e.id!==c.loadedChampion&&(document.querySelector(".js-card-container").innerHTML="",c.userIsLoaded?_e(e).catch(a=>{console.log(a)}):G(document.querySelector(".js-popup-content")),document.querySelector(".c-popup").scrollTo(0,0),document.querySelector(".c-popup__close").focus())},_=()=>{document.querySelector(".js-popup-container").classList.add("u-hidden"),document.querySelector(".js-popup-animate").classList.remove("running"),document.documentElement.style.overflow="auto",document.querySelector(".js-popup-img").src="";for(const e of document.querySelectorAll(".js-role-icon"))e.classList.add("u-hidden")};function Te(){document.querySelector(".js-popup-container").addEventListener("keydown",e=>{e.key==="Escape"&&_()}),document.querySelector(".js-popup-overlay").addEventListener("click",()=>{_()}),document.querySelector(".js-popup-close").addEventListener("click",()=>{_()})}function $e(){document.querySelector(".js-to-searchbar").addEventListener("click",()=>{document.querySelector(".js-search-username").focus(),_()}),document.querySelector(".js-to-searchbar").addEventListener("keyup",e=>{S(e)&&(document.querySelector(".js-search-username").focus(),_())})}function we(e){const t=Object.keys(e.data);let s=0;for(const n in e.data){const a=e.data[n],o=a.key;let d=t[s];d==="Fiddlesticks"&&(d="FiddleSticks");const i=`https://ddragon.leagueoflegends.com/cdn/img/champion/centered/${d}_0.jpg`,m=T(i,"",["js-champ-img","c-card__img"]),l=document.createElement("div");l.classList.add("c-card__img-container"),l.appendChild(m);const p=ie(a.name),r=le(),u=ue(l,p,r),h=u.querySelector(".c-card");h.dataset.tags=a.tags.join(","),h.dataset.difficulty=a.info.difficulty,h.dataset.champion=a.name,h.dataset.championId=o,u.href=`javascript:showPopup(allChampions.data.${a.id});`,u.href="#",u.addEventListener("click",()=>{H(a)}),u.addEventListener("keyup",y=>{S(y)&&H(a)}),document.querySelector(".js-champ-card-container").appendChild(u),s+=1}J(),document.addEventListener("mousemove",n=>{ae(n.clientX,n.clientY)})}async function ke(){const t=(await L(c.ddragon+"/data/en_GB/summoner.json")).data;for(const s in t){const n=t[s].id,a=t[s].key;c.summonerSpells[a]=n}}async function xe(){c.runes=await L(c.ddragon+"/data/en_GB/runesReforged.json")}const Ie=async()=>(await L("https://ddragon.leagueoflegends.com/api/versions.json"))[0],Pe=async()=>{console.log("Ddragon version: ",c.apiVersion,c.ddragon),we(await L(`${c.ddragon}/data/en_GB/championFull.json`))};let O=window.location.origin;window.location.port==="3000"&&(O=`http://${window.location.hostname}:8080`);c.backend=O;const De=()=>{Te(),se(),N(document.querySelector(".js-popup-container")),Y(),$e(),X()};document.addEventListener("DOMContentLoaded",function(){console.log("DOM fully loaded and parsed"),De(),Ie().then(e=>{c.apiVersion=e,console.info("API Version: "+e,c.apiVersion),c.ddragon=`https://ddragon.leagueoflegends.com/cdn/${c.apiVersion}`,Pe().catch(t=>console.log(t)),ke().catch(t=>console.log(t)),xe().catch(t=>console.log(t))})});
